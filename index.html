<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      // Suppress browser extension errors FIRST (before any other script)
      (function() {
        function isExtensionError(msg) {
          var s = (msg || '').toLowerCase();
          return s.indexOf('could not establish connection') !== -1 ||
            s.indexOf('receiving end does not exist') !== -1 ||
            s.indexOf('extension context invalidated') !== -1 ||
            s.indexOf('message channel closed') !== -1 ||
            s.indexOf('asynchronous response') !== -1;
        }
        function stringifyArgs(args) {
          try {
            return Array.prototype.map.call(args, function(a) {
              if (a && typeof a === 'object' && a.message) return String(a.message);
              if (a && typeof a === 'object') try { return JSON.stringify(a); } catch (e) { return String(a); }
              return String(a);
            }).join(' ');
          } catch (e) { return ''; }
        }
        var origError = console.error;
        var origWarn = console.warn;
        console.error = function() {
          if (isExtensionError(stringifyArgs(arguments))) return;
          origError.apply(console, arguments);
        };
        console.warn = function() {
          if (isExtensionError(stringifyArgs(arguments))) return;
          origWarn.apply(console, arguments);
        };
        window.addEventListener('unhandledrejection', function(ev) {
          var reason = ev.reason;
          var msg = (reason && (reason.message || reason)) || '';
          if (isExtensionError(String(msg)) || (reason && reason.message && isExtensionError(String(reason.message)))) {
            ev.preventDefault();
            ev.stopPropagation();
            ev.stopImmediatePropagation();
            return;
          }
        }, true);
        window.addEventListener('error', function(ev) {
          if (isExtensionError(ev.message || '')) {
            ev.preventDefault();
            ev.stopPropagation();
            ev.stopImmediatePropagation();
            return true;
          }
        }, true);
      })();
    </script>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>BeyondRounds | Where Doctors Become Friends</title>
    <meta name="description" content="BeyondRounds is a premium social club exclusively for verified doctors. Weekly matches with 2-3 doctors who share your interests beyond medicine. Find your tribe today." />
    <meta name="author" content="BeyondRounds" />
    <meta name="keywords" content="doctors, friendship, social club, medical professionals, verified doctors, weekly matches" />

    <!-- Performance optimizations - Resource hints for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <!-- Preconnect to Supabase (will be set dynamically if needed) -->
    <link rel="dns-prefetch" href="https://*.supabase.co" />
    <!-- Preconnect to Stripe -->
    <link rel="preconnect" href="https://js.stripe.com" crossorigin />
    <link rel="dns-prefetch" href="https://js.stripe.com" />
    <!-- Preconnect to Stripe API -->
    <link rel="dns-prefetch" href="https://api.stripe.com" />
    
    <meta property="og:url" content="https://beyond-round1.vercel.app/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="BeyondRounds" />
    <meta property="og:title" content="BeyondRounds | Where Doctors Become Friends" />
    <meta property="og:description" content="A premium social club exclusively for verified doctors. Weekly matches, real friendships. Find your tribe today." />
    <meta property="og:image" content="https://beyond-round1.vercel.app/api/og" />
    <meta property="og:image:secure_url" content="https://beyond-round1.vercel.app/api/og" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="BeyondRounds - Where Doctors Become Friends" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:locale" content="en_US" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@BeyondRounds" />
    <meta name="twitter:title" content="BeyondRounds | Where Doctors Become Friends" />
    <meta name="twitter:description" content="A premium social club exclusively for verified doctors. Find your tribe today." />
    <meta name="twitter:image" content="https://beyond-round1.vercel.app/api/og" />
    <meta name="twitter:image:alt" content="BeyondRounds - Where Doctors Become Friends" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <!-- Defer non-critical scripts -->
    <script>
      // Preload critical resources after page load
      if ('requestIdleCallback' in window) {
        requestIdleCallback(() => {
          // Prefetch likely next pages
          const link = document.createElement('link');
          link.rel = 'prefetch';
          link.href = '/onboarding';
          document.head.appendChild(link);
        });
      }
    </script>
  </body>
</html>
