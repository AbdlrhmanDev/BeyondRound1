# ุฏููู ุงุณุชุฎุฏุงู ููู SEED ููุงุฎุชุจุงุฑ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ููู `seed-test.js` ูู ูุณุฎุฉ ูุญุณููุฉ ูู ููู `seed.js` ุงูุฃุตูู ูุน ุฎูุงุฑุงุช ูุงุจูุฉ ููุชุฎุตูุต ููุงุฎุชุจุงุฑ.

## ๐ ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน

### 1. ุงูุชุดุบูู ุงูุฃุณุงุณู (30 ูุณุชุฎุฏู ุงูุชุฑุงุถู)
```bash
npm run seed:test
```

### 2. ุชุญุฏูุฏ ุนุฏุฏ ุงููุณุชุฎุฏููู
```bash
node seed-test.js 50
# ุฃู
npm run seed:test -- 50
```

### 3. ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ ูุจู ุงูุฅูุดุงุก
```bash
node seed-test.js --clean
```

### 4. ุฅูุดุงุก ุงููุณุชุฎุฏููู ููุท (ุจุฏูู matches)
```bash
node seed-test.js --no-matches
```

### 5. ุฅูุดุงุก ุงููุณุชุฎุฏููู ู matches ููุท (ุจุฏูู groups)
```bash
node seed-test.js --no-groups
```

### 6. ุฌููุน ุงูุฎูุงุฑุงุช ูุนุงู
```bash
node seed-test.js 50 --clean --no-matches
```

## โ๏ธ ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ

| ุงูุฎูุงุฑ | ุงููุตู | ูุซุงู |
|--------|-------|------|
| `ุนุฏุฏ` | ุนุฏุฏ ุงููุณุชุฎุฏููู ุงููุฑุงุฏ ุฅูุดุงุคูู | `node seed-test.js 50` |
| `--clean` | ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ ูุจู ุงูุฅูุดุงุก | `node seed-test.js --clean` |
| `--no-matches` | ุชุฎุทู ุญุณุงุจ ุงููุทุงุจูุงุช | `node seed-test.js --no-matches` |
| `--no-groups` | ุชุฎุทู ุฅูุดุงุก ุงููุฌููุนุงุช | `node seed-test.js --no-groups` |

## ๐ ูุง ูููู ุจู ุงูููู

### 1. ุฅูุดุงุก ุงููุณุชุฎุฏููู
- ุฅูุดุงุก ูุณุชุฎุฏููู ูุน ุจูุงูุงุช ูุงูุนูุฉ
- ุชุฌููุน ุงููุณุชุฎุฏููู ูู ููุณ ุงููุฏู ูุชุญุณูู ุงููุทุงุจูุฉ
- ุฅูุดุงุก ุงูุชูุงูุงุช ูุชุฏุงุฎูุฉ ุฏุงุฎู ุงููุฌููุนุงุช
- ุฅุถุงูุฉ ุจูุงูุงุช ูุงููุฉ: profiles, onboarding_preferences

### 2. ุญุณุงุจ ุงููุทุงุจูุงุช (ุงุฎุชูุงุฑู)
- ุญุณุงุจ ููุงุท ุงููุทุงุจูุฉ ุจูู ุฌููุน ุงููุณุชุฎุฏููู
- ุฅูุดุงุก matches ูููุณุชุฎุฏููู ุงูุฐูู ููุงุทูู โฅ 20
- ูุจูู ุฃูุถู 20 match (ููุงุท โฅ 60)

### 3. ุฅูุดุงุก ุงููุฌููุนุงุช (ุงุฎุชูุงุฑู)
- ุชูุฒูุน ุงููุณุชุฎุฏููู ุนูู ูุฌููุนุงุช ูู 5 ุฃุดุฎุงุต
- ุฅูุดุงุก ูุฌููุนุงุช ูุฎุชูุทุฉ (mixed) ููุชุฌุงูุณุฉ (same_gender)
- ุฑุจุท ุงููุฌููุนุงุช ุจุชุงุฑูุฎ ุงูุฎููุณ ุงููุงุฏู

## ๐ง ุงูุฅุนุฏุงุฏุงุช ุงููุงุจูุฉ ููุชุฎุตูุต

ููููู ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช ูู ุจุฏุงูุฉ ููู `seed-test.js`:

```javascript
const CONFIG = {
  USER_COUNT: 30,              // ุนุฏุฏ ุงููุณุชุฎุฏููู
  CREATE_MATCHES: true,        // ุฅูุดุงุก matches
  CREATE_GROUPS: true,         // ุฅูุดุงุก groups
  CLEAN_OLD_DATA: false,      // ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ
  MIN_MATCH_SCORE: 20,        // ุงูุญุฏ ุงูุฃุฏูู ูููุงุท ุงููุทุงุจูุฉ
  GROUP_SIZE: 5               // ุนุฏุฏ ุงููุณุชุฎุฏููู ูู ูู ูุฌููุนุฉ
};
```

## ๐ ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู

ุฌููุน ุงููุณุชุฎุฏููู ุงูุงุฎุชุจุงุฑูู ูููู ุชุณุฌูู ุงูุฏุฎูู ุจูู:

- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: `test_user_1@connectthrive.com` ุญุชู `test_user_N@connectthrive.com`
- **ูููุฉ ุงููุฑูุฑ**: `password123`

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ุงุฎุชุจุงุฑ ุณุฑูุน (10 ูุณุชุฎุฏููู ููุท)
```bash
node seed-test.js 10
```

### ุงุฎุชุจุงุฑ ุดุงูู (100 ูุณุชุฎุฏู)
```bash
node seed-test.js 100 --clean
```

### ุงุฎุชุจุงุฑ ุงููุทุงุจูุฉ ููุท (ุจุฏูู groups)
```bash
node seed-test.js 30 --no-groups
```

### ุงุฎุชุจุงุฑ ุงููุฌููุนุงุช ููุท (ุงุณุชุฎุฏุงู matches ููุฌูุฏุฉ)
```bash
node seed-test.js 30 --no-matches
```

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **Service Role Key**: ุชุฃูุฏ ูู ูุฌูุฏ `SUPABASE_SERVICE_ROLE_KEY` ูู `.env.local`
2. **ุงูููุช**: ุนูููุฉ ุญุณุงุจ ุงููุทุงุจูุฉ ูุฏ ุชุณุชุบุฑู ููุชุงู ุทูููุงู ูุน ุนุฏุฏ ูุจูุฑ ูู ุงููุณุชุฎุฏููู
3. **ุงูุชูุธูู**: ุงุณุชุฎุฏู `--clean` ุจุญุฐุฑ - ุณูุญุฐู ุฌููุน ุงููุณุชุฎุฏููู ุงูุงุฎุชุจุงุฑูู ุงููุฏูููู
4. **Rate Limiting**: ุงูููู ูุญุชูู ุนูู ุชุฃุฎูุฑ ุตุบูุฑ (100ms) ุจูู ูู ูุณุชุฎุฏู ูุชุฌูุจ rate limiting

## ๐ ุงูุชุญูู ูู ุงููุชุงุฆุฌ

ุจุนุฏ ุชุดุบูู ุงูู seedุ ููููู ุงูุชุญูู ูู:

```sql
-- ุนุฏุฏ ุงููุณุชุฎุฏููู
SELECT COUNT(*) FROM profiles WHERE email LIKE 'test_user_%@connectthrive.com';

-- ุนุฏุฏ ุงููุทุงุจูุงุช
SELECT COUNT(*) FROM matches;

-- ุนุฏุฏ ุงููุฌููุนุงุช
SELECT COUNT(*) FROM match_groups WHERE match_week >= CURRENT_DATE;

-- ุฅุญุตุงุฆูุงุช ุงููุฌููุนุงุช
SELECT 
  group_type,
  gender_composition,
  COUNT(*) as group_count
FROM match_groups 
WHERE match_week >= CURRENT_DATE
GROUP BY group_type, gender_composition;
```

## ๐ ุงููุฑู ุจูู seed.js ู seed-test.js

| ุงูููุฒุฉ | seed.js | seed-test.js |
|--------|---------|--------------|
| ุนุฏุฏ ุงููุณุชุฎุฏููู | ุซุงุจุช (50) | ูุงุจู ููุชุฎุตูุต |
| ุชูุธูู ุงูุจูุงูุงุช | โ | โ (ุงุฎุชูุงุฑู) |
| ุชุฎุทู matches | โ | โ |
| ุชุฎุทู groups | โ | โ |
| ุจูุงูุงุช ูุงูุนูุฉ | โ | โ ูุญุณููุฉ |
| ุชุฌููุน ูููุทุงุจูุฉ | โ | โ ูุญุณูู |

## ๐ก ูุตุงุฆุญ

1. ุงุจุฏุฃ ุจุนุฏุฏ ุตุบูุฑ (10-20) ููุงุฎุชุจุงุฑ ุงูุณุฑูุน
2. ุงุณุชุฎุฏู `--clean` ููุท ุนูุฏูุง ุชุฑูุฏ ุจุฏุงูุฉ ุฌุฏูุฏุฉ
3. ุงุณุชุฎุฏู `--no-matches` ุฃู `--no-groups` ูุชุณุฑูุน ุงูุนูููุฉ
4. ุฑุงูุจ ุงูู logs ููุนุฑูุฉ ุงูุชูุฏู
